<!doctype html><html dir=ltr lang=en data-theme class="html theme--light"><head><title>Alexander Jelinek
|
The journey to a self-healing platform</title><meta charset=utf-8><meta name=generator content="Hugo 0.107.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content="Alexander Jelinek"><meta name=description content="Call me Alex"><link rel=stylesheet href=/scss/main.min.5794be192d21535bdd301561e043a96b6adbad2b5c08279deff459e4661c613f.css integrity="sha256-V5S+GS0hU1vdMBVh4EOpa2rbrStcCCed7/RZ5GYcYT8=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc=" crossorigin=anonymous type=text/css><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=canonical href=/posts/test/><script type=text/javascript src=/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js integrity="sha256-+RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="The journey to a self-healing platform"><meta name=twitter:description content="Photo by Austin Kehmeier on¬†Unsplash
Hi guys, my first story is about my hobby project &ldquo;OpenFero&rdquo;.
Open Fero is a little play on words from the Latin &ldquo;opem fero&rdquo;, which means &ldquo;to help&rdquo; and the term &ldquo;OpenSource&rdquo;. Hence the name &ldquo;openfero&rdquo;. The scope of OpenFero is a framework for self-healing in a cloud-native environment.
Beginning of the¬†journey In my ongoing time as a Kubernetes Platform Engineer, I&rsquo;ve always wondered, &ldquo;Isn&rsquo;t there a solution to take the self-healing principle of Kubernetes further?"><meta property="og:title" content="The journey to a self-healing platform"><meta property="og:description" content="Photo by Austin Kehmeier on¬†Unsplash
Hi guys, my first story is about my hobby project &ldquo;OpenFero&rdquo;.
Open Fero is a little play on words from the Latin &ldquo;opem fero&rdquo;, which means &ldquo;to help&rdquo; and the term &ldquo;OpenSource&rdquo;. Hence the name &ldquo;openfero&rdquo;. The scope of OpenFero is a framework for self-healing in a cloud-native environment.
Beginning of the¬†journey In my ongoing time as a Kubernetes Platform Engineer, I&rsquo;ve always wondered, &ldquo;Isn&rsquo;t there a solution to take the self-healing principle of Kubernetes further?"><meta property="og:type" content="article"><meta property="og:url" content="/posts/test/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-08T21:47:41+00:00"><meta property="article:modified_time" content="2022-11-08T21:47:41+00:00"><meta property="og:site_name" content="Alexander Jelinek"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"The journey to a self-healing platform","headline":"The journey to a self-healing platform","alternativeHeadline":"","description":"
      
        Photo by Austin Kehmeier on¬†Unsplash\nHi guys, my first story is about my hobby project \u0026ldquo;OpenFero\u0026rdquo;.\nOpen Fero is a little play on words from the Latin \u0026ldquo;opem fero\u0026rdquo;, which means \u0026ldquo;to help\u0026rdquo; and the term \u0026ldquo;OpenSource\u0026rdquo;. Hence the name \u0026ldquo;openfero\u0026rdquo;. The scope of OpenFero is a framework for self-healing in a cloud-native environment.\nBeginning of the¬†journey In my ongoing time as a Kubernetes Platform Engineer, I\u0026rsquo;ve always wondered, \u0026ldquo;Isn\u0026rsquo;t there a solution to take the self-healing principle of Kubernetes further?


      


    ","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"\/posts\/test\/"},"author":{"@type":"Person","name":"Alexander Jelinek"},"creator":{"@type":"Person","name":"Alexander Jelinek"},"accountablePerson":{"@type":"Person","name":"Alexander Jelinek"},"copyrightHolder":{"@type":"Person","name":"Alexander Jelinek"},"copyrightYear":"2022","dateCreated":"2022-11-08T21:47:41.00Z","datePublished":"2022-11-08T21:47:41.00Z","dateModified":"2022-11-08T21:47:41.00Z","publisher":{"@type":"Organization","name":"Alexander Jelinek","url":"","logo":{"@type":"ImageObject","url":"favicon-32x32.png","width":"32","height":"32"}},"image":[],"url":"\/posts\/test\/","wordCount":"931","genre":[],"keywords":["kubernetes","self-healing","cloud native","openfero"]}</script></head><body class=body><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src=/images/profile.gif alt="profile picture"><div class=sidebar__introduction-title><a href=/>Alexander Jelinek</a></div><div class=sidebar__introduction-description><p>Call me Alex</p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://github.com/Payback159 target=_blank rel="noopener me" aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.linkedin.com/in/alexanderjelinek/ target=_blank rel="noopener me" aria-label=Linkedin title=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.xing.com/profile/Alexander_Jelinek4/portfolio target=_blank rel="noopener me" aria-label=Xing title=Xing><i class="fab fa-xing fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
Alexander Jelinek
2022</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script></div></aside><main class=wrapper__main><header class=header><div class="animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu><li class=nav__list-item><a href=/ title>Home</a></li><li class=nav__list-item><a href=/posts/ title>Posts</a></li></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
animated fadeInDown"><div class=post__content><h1>The Journey to a Self-Healing Platform</h1><p><img src=https://cdn-images-1.medium.com/max/1600/0*BttpClgrW2Yrq-Bv alt>
Photo by Austin Kehmeier on¬†Unsplash</p><p>Hi guys, my first story is about my hobby project &ldquo;OpenFero&rdquo;.</p><blockquote><p>Open Fero is a little play on words from the Latin &ldquo;opem fero&rdquo;, which means &ldquo;to help&rdquo; and the term &ldquo;OpenSource&rdquo;. Hence the name &ldquo;openfero&rdquo;. The scope of OpenFero is a framework for self-healing in a cloud-native environment.</p></blockquote><h2 id=beginning-of-thejourney>Beginning of the¬†journey</h2><p>In my ongoing time as a Kubernetes Platform Engineer, I&rsquo;ve always wondered, &ldquo;Isn&rsquo;t there a solution to take the self-healing principle of Kubernetes further?&rdquo; Kubernetes itself already offers some self-healing features but often only for the application and services running on top of it.</p><p>The term self-healing becomes more difficult when it comes to self-healing functions for the cluster itself and even though this topic is getting more and more attention in the community and solutions are being developed, in my view it still depends heavily on the technology stack in the company whether these can be easily integrated.</p><p>Apart from that, many of the services in the cluster depend on metrics coming from the service itself or its dependencies. (Databases, Kafka, Redis)</p><p>The more I dealt with it, the more I wanted to find a solution that would not only allow engineers and developers to provide self-healing jobs, but would also be flexible enough to allow the user to take the implementation of the self-healing process in the language they usual use.</p><p>After some time and from my point of view unsuccessful search for exactly such a tool, I made the decision to write exactly this solution myself. (Hints for known tools are always welcome)</p><h2 id=the-idea-of-openfero-wasborn>The idea of OpenFero was¬†born</h2><p>‚Ä¶ The rough requirements for the solution are.</p><ul><li>To follow Cloud Native principle</li><li>Easy installation variant, ideally on the cluster itself or at least use the already existing features of Kubernetes.</li><li>The tool should provide a framework but not restrict the user in the choice of tooling for the implementation.</li></ul><p>Of course there are still a few questions open:</p><ul><li>Where does OpenFero actually get the information that there is something broken?</li><li>How to create an environment that can handle this heterogeneous landscape of jobs that can potentially arise?</li></ul><p>At the beginning of our journey into the Kubernetes and Cloud Native world, we quickly realized that without a monitoring solution adapted to this world, we won&rsquo;t get far. And, what goes better with a Kubernetes cluster than a well-maintained Prometheus stack. üòâ</p><p>With that, I quickly had the answer to my first question. OpenFero itself does not take on the task of checking the health and metrics of the services or the cluster, but provides a webhook endpoint as an interface that should meet the specifications for the Prometheus webhook receiver.</p><p>With this I could not only use in this specific case the accumulated know-how of our teams, which has been collected over the years in the form of Prometheus Alert Rules, but I also claim to have created a certain form of compatibility for others in this world.</p><p>That left only the question: <strong>How to create an environment that can handle this heterogeneous landscape of jobs that can potentially arise?</strong> and the quick answer &ldquo;Kubernetes Jobs and ConfigMaps&rdquo;.</p><p>As of today, jobs are simply stored in ConfigMaps in Kubernetes, as shown in a small example below, and interpreted by OpenFero in the event of an alert and executed via Kubernetes. (As I write here, I&rsquo;m wondering if an operator pattern might even make sense for this, but I&rsquo;ll save that for another story.)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>data</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>KubeQuotaFullyUsed</span>: |-<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    apiVersion: batch/v1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    kind: Job
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    metadata:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      name: openfero-kubequotafullyused-firing
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      labels:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        app: openfero
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    spec:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      parallelism: 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      completions: 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      template:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          spec:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            containers:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            - name: python-job
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              image: ubuntu:latest
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              args:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              - bash
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              - -c
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              - |-
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                echo &#34;Hallo Welt&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              imagePullPolicy: Always
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            restartPolicy: Never</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>ConfigMap</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>app</span>: <span style=color:#ae81ff>openfero</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>openfero-kubequotafullyused-firing</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>openfero</span>
</span></span></code></pre></div><h2 id=so-how-is-openfero-structured>So how is OpenFero structured?</h2><p>OpenFero consists logically of 2 components. The first is a Golang implemented endpoint for Alertmanager webhooks.</p><p>If an alert is now sent from the alert manager to this endpoint, OpenFero checks whether a job in the form of a ConfigMap exists for this alert and tries to execute the Kubernetes job defined therein.</p><p>In the world of OpenFero, these jobs are not simply called jobs, otherwise that would be too simple üòÅ. We speak of &ldquo;Operarios&rdquo;, which also comes from Latin and translates as &ldquo;worker"üí™.</p><p>Since the actual hard work for the self-healing process is realized in this part, I thought the name was appropriate.</p><p>But what is such an operarios and how does all this enable me to make OpenFero a code-agnostic solution?
To put it simply, the only requirements that OpenFero currently places on an Operarios is that it provides a runtime environment for the desired language in the form of a container and that it can receive and process the information from the alert injected by OpenFero via environment variables.</p><h2 id=its-not-the-end-of-thejourney>It&rsquo;s not the end of the¬†journey</h2><p>The OpenFero journey has only just begun and many questions known and unknown will hopefully be answered on this journey to the full-featured solution for deploying a self-healing platform.</p><p>It&rsquo;s currently just a project I&rsquo;m working on, but if you&rsquo;re interested you&rsquo;re more than welcome to be a part of this journey.</p><p>I&rsquo;m grateful for every contribution, be it code, discussion, feedback, documentation or a great logo to give the project more personality. If you just like the project, I would be happy about a star too! üòä</p><p>If I have sparked your interest, you are welcome to contact me or simply leave a comment in the <a href="https://medium.com/r/?url=https%3A%2F%2Fgithub.com%2FPayback159%2Fopenfero">project on github</a>.</p></div><div class=post__footer><span><a class=tag href=/tags/kubernetes/>kubernetes</a><a class=tag href=/tags/self-healing/>self-healing</a><a class=tag href=/tags/cloud-native/>cloud native</a><a class=tag href=/tags/openfero/>openfero</a></span></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
Alexander Jelinek
2022</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script></body></html>